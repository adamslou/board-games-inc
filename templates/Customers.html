{% extends "menu.html" %}
{% block content %}
<script>
$(document).ready(function() {
    $('#custTable').DataTable();
} );
    </script>
<div class="customers">
    <h1>Customer Management</h1>
</div>
<form id="add-customer" action="/Customers" method="POST">
    <div class="form-row">
        <div class="col mb-3">
            <label for="validationDefault02">First name</label>
            <input type="text" name="first_name" class="form-control" id="validationDefault02" placeholder="Mark" required>
        </div>
        <div class="col mb-3">
            <label for="validationDefault03">Last name</label>
            <input type="text" name="last_name" class="form-control" id="validationDefault03" placeholder="Otto" required>
        </div>
    </div>
    <div class="form-row">
        <div class="col mb-3">
            <label for="validationDefault03">Email</label>
            <input type="email" name="email" class="form-control" id="validationDefault03" placeholder="example@gmail.com" required>
        </div>
        <div class="col mb-3">
            <label for="validationDefault04">Phone number</label>
            <input type="tel" name="phone_number" class="form-control" id="validationDefault04" placeholder="9998887777" maxlength="10" minlength="10" required>
        </div>
    </div>
    <button class="btn btn-success" type="submit">Add customer</button>
</form>

<table id="custTable" class="table table-bordered table-sm">
    <thead>
        <tr>
            <th class="th-sm" scope="col">Customer id</th>
            <th class="th-sm" scope="col">First</th>
            <th class="th-sm" scope="col">Last</th>
            <th class="th-sm" scope="col">Email</th>
            <th class="th-sm" scope="col">Phone number</th>
            <th scope="col"></th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        {% for r in rows %}
        <tr>
            <td>{{r.0}}</td>
            <td>{{r[2]}}</td>
            <td>{{r[3]}}</td>
            <td>{{r[1]}}</td>
            <td>{{r[4]}}</td>
            <td class="rowBtn"><button class="btn btn-primary" type="submit" onclick="window.location='/Customers/edit/{{r.0}}'">Edit</button></td>
            <td><button class="rowBtn, btn btn-danger" type="submit" onclick="window.location='/deleteCust/{{r.0}}'">Delete</button></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<br>

{% endblock %}